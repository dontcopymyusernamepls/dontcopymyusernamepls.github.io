/**
 * WOGAA.js
 * Version: 0.14.1-b457
 */
"use strict";var t=function(){return t=Object.assign||function(t){for(var o,n=1,r=arguments.length;n<r;n++)for(var a in o=arguments[n])Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);return t},t.apply(this,arguments)};try{window.wogaaCustom=t(t({},window.wogaaCustom),{siteInfo:{"siteRSID":"wogaasamlsingpassprod","acronym":"samlsingpass","siteSection":"login.singpass.gov.sg/spservice","txnSvcs":[],"environment":"production"}})}catch(t){console.error("WOGAA.js | SiteInfo initialization error. Please contact WOGAA team.")}

// Snowplow Listener
!function(){"use strict";function e(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function a(a){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach((function(e){n(a,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))}))}return a}function t(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var o,r=function(){function e(t,n,o){var r=this;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this._wogaaLayer=t,this._callback=n||function(){},this._unprocessed=[],this._executingListener=!1,this._model={},this._options=a({skipOldValues:!1},o),this._processStates(this._wogaaLayer,this._options.skipOldValues);var i=this._wogaaLayer.push;this._wogaaLayer.push=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=[].slice.call(t,0);o=o.map((function(e){return a(a({},e),{},{"wogaa.time":(new Date).getTime()})}));var s=i.apply(r._wogaaLayer,o);return r._processStates(o,!1),s}}var n,o,r;return n=e,o=[{key:"_processStates",value:function(e,t){for(this._unprocessed.push.apply(this._unprocessed,e);!1===this._executingListener&&this._unprocessed.length>0;){var n=this._unprocessed.shift();this._model=a(a({},n),this._model),t||(this._executingListener=!0,this._callback(this._model,n),this._executingListener=!1)}}},{key:"get",value:function(e,a){if(e){e=function(e){if("string"!=typeof e)return e;var a=[];return e.split(".").forEach((function(e){e.split(/\[([^}]+)\]/g).forEach((function(e){e.length>0&&a.push(e)}))})),a}(e);for(var t=this._model,n=0;n<e.length;n++){if(!t[e[n]])return a;t=t[e[n]]}return t}return this._model}}],o&&t(n.prototype,o),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(),i=r,s=new Uint8Array(16);function c(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)}var l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function d(e){return"string"==typeof e&&l.test(e)}for(var u=[],g=0;g<256;++g)u.push((g+256).toString(16).substr(1));function p(e,a,t){var n=(e=e||{}).random||(e.rng||c)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,a){t=t||0;for(var o=0;o<16;++o)a[t+o]=n[o];return a}return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(u[e[a+0]]+u[e[a+1]]+u[e[a+2]]+u[e[a+3]]+"-"+u[e[a+4]]+u[e[a+5]]+"-"+u[e[a+6]]+u[e[a+7]]+"-"+u[e[a+8]]+u[e[a+9]]+"-"+u[e[a+10]]+u[e[a+11]]+u[e[a+12]]+u[e[a+13]]+u[e[a+14]]+u[e[a+15]]).toLowerCase();if(!d(t))throw TypeError("Stringified UUID is invalid");return t}(n)}var h,w="wogaa.ongoing.txs";function y(){var e=window.sessionStorage.getItem(w);return e?function(e){try{return JSON.parse(e)}catch(e){return{}}}(e):{}}function f(e){window.sessionStorage.setItem(w,function(e){try{return JSON.stringify(e)}catch(e){return"{}"}}(e))}function v(e){return!(!e||""===e)&&(!!["staging"].includes(window.wogaaCustom.siteInfo.environment)||window.wogaaCustom.siteInfo.txnSvcs.includes(e))}function _(e){var a=y();return Object.prototype.hasOwnProperty.call(a,e)}!function(e){e.StartTS="START_TS",e.CompleteTS="COMPLETE_TS",e.TrackStructuredEvent="TRACK_STRUCTURED_EVENT",e.SetUserId="SET_USER_ID",e.SetIdentity="SET_IDENTITY",e.SearchSgSearchEvent="SEARCHSG_SEARCH_EVENT",e.SearchSgDisplayEvent="SEARCHSG_DISPLAY_EVENT",e.SearchSgClickEvent="SEARCHSG_CLICK_EVENT",e.SearchSgRateEvent="SEARCHSG_RATE_EVENT",e.SearchSgSessionInitEvent="SEARCHSG_SESSION_INIT_EVENT"}(h||(h={}));var S,m,E="Snowplow Listener",k=window.wogaaCustom,b=window.wogaaCustom.log,T=window.wogaa_snowplow,I="iglu:sg.wogaa.iglu/search_context/jsonschema/1-0-4",x="iglu:sg.gov.tech/search_result_context/jsonschema/1-0-1",C="iglu:sg.gov.tech/search_result_interaction_context/jsonschema/1-0-1",O="iglu:sg.gov.tech/search_result_rating_context/jsonschema/1-0-1",j="iglu:sg.wogaa.iglu/search_session_context/jsonschema/2-0-1",R=function(e,a){return a&&e.push({schema:j,data:a}),e};function P(e,a){var t,n,o,r;try{switch(a.type){case h.StartTS:var i=a.payload.trackingId,s=a.payload.options.uniqueTransactionId;if(b(E,"ST event init",{payload:a}),v(i))if(b(E,"tracking is valid",{payload:a}),_(i))b(E,"trackingId already available in session to start transaction",{payload:a});else{b(E,"trackingId not available in session",{payload:a});var c=function(e,a){var t=y(),n=a||p();return t[e]=n,f(t),n}(i,s);b(E,"added tracking id"),T("trackStructEvent:wog","transactionalService","start",i,c),b(E,"snowplow start transactional service fired",{payload:a})}else b(E,"tracking is not valid. Ignoring ST",{payload:a});break;case h.CompleteTS:i=a.payload.trackingId,s=a.payload.options.uniqueTransactionId;if(b(E,"CT event init",{payload:a.payload}),v(i))if(b(E,"trackingId is valid",{payload:a.payload}),s||!s&&_(i)){b(E,"trackingId available in session",{payload:a.payload});c=function(e,a){var t=y(),n=a||t[e];return delete t[e],f(t),n}(a.payload.trackingId,s);T("trackStructEvent:wog","transactionalService","complete",i,c),b(E,"snowplow complete transactional service fired",{payload:a.payload})}else b(E,"trackingId not available in session to complete transaction",{payload:a.payload});else b(E,"tracking is not valid. Ignoring CT",{payload:a.payload});break;case h.TrackStructuredEvent:var l=a.payload,d=l.category,u=l.action,g=l.label,w=l.property,S=l.value;b(E,"firing snowplow structured event",{payload:a.payload}),T("trackStructEvent:wog",d,u,g,w,S);break;case h.SetUserId:var m=a.payload.id;b(E,"firing snowplow set user id",{payload:a.payload}),T("setUserId:wog",m);break;case h.SetIdentity:m=a.payload.id;b(E,"set snowplow identity context",{payload:a.payload}),T("addGlobalContexts",[{schema:"iglu:sg.wogaa.iglu/identity_context/jsonschema/1-0-0",data:{id:m}}]);break;case h.SearchSgSearchEvent:var k=[{schema:I,data:a.payload.search_context}];k=R(k,null===(t=a.payload)||void 0===t?void 0:t.search_session_context),window.wogaa_snowplow("trackSelfDescribingEvent",{schema:"iglu:sg.wogaa.iglu/searchsg_search/jsonschema/1-0-0",data:{}},k);break;case h.SearchSgDisplayEvent:k=[{schema:I,data:a.payload.search_context},{schema:x,data:a.payload.search_result_context}];k=R(k,null===(n=a.payload)||void 0===n?void 0:n.search_session_context),window.wogaa_snowplow("trackSelfDescribingEvent",{schema:"iglu:sg.wogaa.iglu/searchsg_display/jsonschema/1-0-0",data:{}},k);break;case h.SearchSgClickEvent:k=[{schema:I,data:a.payload.search_context},{schema:x,data:a.payload.search_result_context},{schema:C,data:a.payload.search_result_interaction_context}];k=R(k,null===(o=a.payload)||void 0===o?void 0:o.search_session_context),window.wogaa_snowplow("trackSelfDescribingEvent",{schema:"iglu:sg.wogaa.iglu/searchsg_click/jsonschema/1-0-0",data:{}},k);break;case h.SearchSgRateEvent:k=[{schema:I,data:a.payload.search_context},{schema:x,data:a.payload.search_result_context},{schema:C,data:a.payload.search_result_interaction_context},{schema:O,data:a.payload.search_result_rating_context}];k=R(k,null===(r=a.payload)||void 0===r?void 0:r.search_session_context),window.wogaa_snowplow("trackSelfDescribingEvent",{schema:"iglu:sg.wogaa.iglu/searchsg_rate/jsonschema/1-0-0",data:{}},k);break;case h.SearchSgSessionInitEvent:k=[{schema:j,data:a.payload.search_session_context}];window.wogaa_snowplow("trackSelfDescribingEvent",{schema:"iglu:sg.wogaa.iglu/searchsg_session_init/jsonschema/1-0-0",data:{}},k)}}catch(e){b(E,"ERROR: Error while processing wogaa layer event",a,e)}}(S=function(){if(k.hasTrackerInitialized)b(E,"ERROR: Snowplow tracker is already initialized");else{T("newTracker","wog","snowplow-web.wogaa.sg",{appId:"wogaasamlsingpassprod",contexts:{webPage:!0,performanceTiming:!0},cookieSameSite:"https:"===window.location.protocol?"Strict":"Lax",cookieSecure:"https:"===window.location.protocol,discoverRootDomain:!0,forceSecureTracker:!0,postPath:"/sg.wogaa/cs1"}),k.hasTrackerInitialized=!0,k.hasPagePing=false,k.hasPagePing&&T("enableActivityTracking:wog",30,10),T("enableLinkClickTracking:wog"),window.addEventListener("locationchange",(function(){T("trackPageView:wog"),T("refreshLinkClickTracking:wog")}));var e=function(e,a){var t,n=this;return void 0===a&&(a=0),function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];clearTimeout(t),t=setTimeout((function(){e.apply(n,o)}),a)}}((function(){T("trackPageView:wog")}),0);window.addEventListener("load",e),new i(window.wogaaLayer,P)}},m=!1,function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return m?void 0:(m=!0,S.apply(this,e))})()}();